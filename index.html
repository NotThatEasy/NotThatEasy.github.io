<!DOCTYPE html>
<html>
    <head>

        <script src="scripts/twomin.js">
        </script>

        <script src = "scripts/page.js"></script>
        <title>pet proj</title>

    </head>
    <body>

        <script>
        
            var _0x5221=['teal','unbind','rotation','destroy','translation','set','remove','blanchedalmond','wheat','rgb(231,\x20194,156)','rgb(205,145,115)','rgb(192,130,90)','rgb(190,120,30)','rgb(210,130,30)','rgb(130,\x2050,\x2050)','rgb(120,\x2030,\x2030)','floor','space','_field','makeRoundedRectangle','_fill','rgb(225,240,240)','darkcyan','tileSprites','fill','rgb(127,200,170)','stroke','tiles','random','move','undefined','value','abs','animate_movement','merging','merged','animate_merge','dir','spawn_tile','play','is_game_over','animate_gameover','full','no_moves','animated','moving','gameovering','spawning','sprite','scale','update','bind','message','makeText'];(function(_0x446f79,_0x589d5f){var _0x497132=function(_0x344c5b){while(--_0x344c5b){_0x446f79['push'](_0x446f79['shift']());}};_0x497132(++_0x589d5f);}(_0x5221,0x1ed));var _0x114b=function(_0x265f48,_0x737137){_0x265f48=_0x265f48-0x0;var _0xcbf17a=_0x5221[_0x265f48];return _0xcbf17a;};let fieldSize=0x294;let outlineWidth=0x5;let elementSize=fieldSize+outlineWidth*0x2;let field_xbyx=0x5;let tileSize=0x64;let gap=0xf;let step=tileSize+gap;let margin=(elementSize-tileSize*field_xbyx-gap*(field_xbyx-0x1))/0x2+tileSize/0x2;let color0={'r':0xf5,'g':0xde,'b':0xb3};let color1={'r':0x8b,'g':0x0,'b':0x0};let r_diff=(color0['r']-color1['r'])/0x7;let g_diff=(color0['g']-color1['g'])/0x7;let b_diff=(color0['b']-color1['b'])/0x7;let counter=0x0;let colormap_tile={2:_0x114b('0x0'),4:_0x114b('0x1'),8:_0x114b('0x2'),16:'rgb(218,166,134)',32:_0x114b('0x3'),64:_0x114b('0x4'),128:'rgb(175,115,75)',256:_0x114b('0x5'),512:_0x114b('0x6'),1024:_0x114b('0x7'),2048:_0x114b('0x8')};function msToFrames(_0x3807ef){return Math[_0x114b('0x9')](0x3c*_0x3807ef/0x3e8);};class Point{constructor(_0x278061,_0x4d4a39){this['x']=_0x278061;this['y']=_0x4d4a39;}}class Field{constructor(_0x22c08b){this[_0x114b('0xa')]=_0x22c08b;this[_0x114b('0xb')]=this['space'][_0x114b('0xc')](fieldSize/0x2+outlineWidth,fieldSize/0x2+outlineWidth,fieldSize,fieldSize,fieldSize/0x14);this[_0x114b('0xb')][_0x114b('0xd')]=_0x114b('0xe');this['_field']['_linewidth']=outlineWidth;this[_0x114b('0xb')]['_stroke']=_0x114b('0xf');this[_0x114b('0x10')]=[];for(let _0x4aa614=0x0;_0x4aa614<field_xbyx*field_xbyx;++_0x4aa614){this['tileSprites'][_0x4aa614]=this[_0x114b('0xa')][_0x114b('0xc')](_0x4aa614%0x5*step+margin,Math[_0x114b('0x9')](_0x4aa614/0x5)*step+margin,tileSize,tileSize,0x7);this[_0x114b('0x10')][_0x4aa614][_0x114b('0x11')]=_0x114b('0x12');this[_0x114b('0x10')][_0x4aa614][_0x114b('0x13')]=_0x114b('0xe');}this['tiles']=[];for(let _0x15800f=0x0;_0x15800f<field_xbyx*field_xbyx;++_0x15800f){this[_0x114b('0x14')][_0x15800f]=null;}for(let _0x3c2832=0x0;_0x3c2832<0x2;++_0x3c2832){let _0x168347=null;do{_0x168347=Math[_0x114b('0x9')](Math[_0x114b('0x15')]()*field_xbyx*field_xbyx);}while(this[_0x114b('0x14')][_0x168347]!==null);this[_0x114b('0x14')][_0x168347]=new Tile(_0x168347,this['space']);}}[_0x114b('0x16')](_0x2a8f0c,_0x5f0bb1){let _0x310baa=0x0;let _0x5d350e;if(_0x2a8f0c<0x0||_0x5f0bb1<0x0){_0x5d350e=0x0;}else{_0x5d350e=0x18;}while(this[_0x114b('0x14')][_0x5d350e]===null){_0x5d350e-=_0x2a8f0c+_0x5f0bb1;}while(this[_0x114b('0x14')][_0x5d350e]!==undefined){let _0x4fb567=_0x5d350e;do{_0x4fb567+=_0x2a8f0c+_0x5f0bb1*0x5;}while(this[_0x114b('0x14')][_0x4fb567]===null&&(_0x4fb567%0x5===_0x5d350e%0x5&&_0x2a8f0c===0x0||Math[_0x114b('0x9')](_0x4fb567/0x5)===Math[_0x114b('0x9')](_0x5d350e/0x5)&&_0x5f0bb1===0x0));_0x3e67da:if(typeof this[_0x114b('0x14')][_0x4fb567]==_0x114b('0x17')||!(_0x4fb567%0x5===_0x5d350e%0x5&&_0x2a8f0c===0x0||Math[_0x114b('0x9')](_0x4fb567/0x5)===Math[_0x114b('0x9')](_0x5d350e/0x5)&&_0x5f0bb1===0x0)||(this[_0x114b('0x14')][_0x5d350e]['value']===this[_0x114b('0x14')][_0x4fb567][_0x114b('0x18')]?![]:!![])||this[_0x114b('0x14')][_0x4fb567]['merged']){_0x4fb567-=_0x2a8f0c+_0x5f0bb1*0x5;if(_0x4fb567===_0x5d350e)break _0x3e67da;let _0x3db9e3=0x64+((Math['abs'](_0x4fb567-_0x5d350e)%0x5==0x0?Math[_0x114b('0x19')](_0x4fb567-_0x5d350e)/0x5:Math[_0x114b('0x19')](_0x4fb567-_0x5d350e)%0x5)-0x1)*0x32;[this[_0x114b('0x14')][_0x4fb567],this[_0x114b('0x14')][_0x5d350e]]=[this[_0x114b('0x14')][_0x5d350e],this[_0x114b('0x14')][_0x4fb567]];this[_0x114b('0x14')][_0x4fb567][_0x114b('0x1a')](new Point(margin+step*(_0x4fb567%0x5),margin+step*Math[_0x114b('0x9')](_0x4fb567/0x5)),msToFrames(_0x3db9e3));if(_0x3db9e3>_0x310baa){_0x310baa=_0x3db9e3;}}else if(this[_0x114b('0x14')][_0x5d350e][_0x114b('0x18')]===this[_0x114b('0x14')][_0x4fb567][_0x114b('0x18')]){let _0x31d1d7=0x4b+((Math[_0x114b('0x19')](_0x4fb567-_0x5d350e)%0x5==0x0?Math['abs'](_0x4fb567-_0x5d350e)/0x5:Math['abs'](_0x4fb567-_0x5d350e)%0x5)-0x1)*0x32;let _0x1e7888=null;[this[_0x114b('0x14')][_0x5d350e],_0x1e7888]=[_0x1e7888,this['tiles'][_0x5d350e]];_0x1e7888[_0x114b('0x1a')](new Point(margin+step*(_0x4fb567%0x5),margin+step*Math[_0x114b('0x9')](_0x4fb567/0x5)),msToFrames(_0x31d1d7),!![]);this[_0x114b('0x14')][_0x4fb567][_0x114b('0x18')]*=0x2;this['tiles'][_0x4fb567][_0x114b('0x1b')]=!![];this[_0x114b('0x14')][_0x4fb567][_0x114b('0x1c')]=!![];setTimeout(()=>{try{this[_0x114b('0x14')][_0x4fb567][_0x114b('0x1d')](msToFrames(0x64));}catch(_0x3ed550){console[_0x114b('0x1e')](_0x3ed550);}},_0x31d1d7);if(_0x31d1d7>_0x310baa)_0x310baa=_0x31d1d7+0x64;}do{_0x5d350e-=_0x2a8f0c+_0x5f0bb1;}while(this[_0x114b('0x14')][_0x5d350e]===null);}for(let _0x3ede5b of this[_0x114b('0x14')])if(_0x3ede5b!==null)_0x3ede5b['merged']=![];switch(this['is_game_over']()){case 0x1:break;case 0x0:let _0x554d6a=this;if(_0x310baa!==0x0){setTimeout(function(){_0x554d6a[_0x114b('0x1f')](msToFrames(0x64));},_0x310baa);}break;case-0x1:break;}this[_0x114b('0xa')][_0x114b('0x20')]();}[_0x114b('0x21')](){for(let _0x13f08f of this[_0x114b('0x14')])if(_0x13f08f!==null&&_0x13f08f[_0x114b('0x18')]===0x800){_0x13f08f[_0x114b('0x22')]();return 0x1;}if(this[_0x114b('0x23')]()){if(this[_0x114b('0x24')]()){return-0x1;}}return 0x0;}[_0x114b('0x24')](){let _0x3e6147=[];function _0x348e70(_0x523461,_0x7754dc,_0x55f4b2){if(typeof _0x523461[_0x114b('0x14')][_0x55f4b2]!==_0x114b('0x17')){if(_0x523461[_0x114b('0x14')][_0x7754dc]===_0x523461['tiles'][_0x55f4b2]){return!![];}}return![];}for(let _0x34ab76=0x0;_0x34ab76<0x19;++_0x34ab76){if(_0x348e70(this,_0x34ab76,_0x34ab76-0x1)||_0x348e70(this,_0x34ab76,_0x34ab76+0x1)||_0x348e70(this,_0x34ab76,_0x34ab76-field_xbyx)||_0x348e70(this,_0x34ab76,_0x34ab76+field_xbyx)){return![];}}return!![];}[_0x114b('0x23')](){for(const _0xeef4eb of this[_0x114b('0x14')])if(_0xeef4eb===null)return![];return!![];}[_0x114b('0x25')](){for(const _0x2546fa of this[_0x114b('0x14')])if(_0x2546fa!==null&&(_0x2546fa[_0x114b('0x26')]||_0x2546fa['merging']||_0x2546fa[_0x114b('0x27')]||_0x2546fa[_0x114b('0x28')]))return!![];return![];}[_0x114b('0x1f')](_0x4dd8d1){let _0x3f9c5a=null;do{_0x3f9c5a=Math[_0x114b('0x9')](Math[_0x114b('0x15')]()*0x19);}while(this[_0x114b('0x14')][_0x3f9c5a]!==null);this[_0x114b('0x14')][_0x3f9c5a]=new Tile(_0x3f9c5a,this['space']);this[_0x114b('0x14')][_0x3f9c5a][_0x114b('0x29')][_0x114b('0x2a')]=0x0;this[_0x114b('0x14')][_0x3f9c5a][_0x114b('0x28')]=!![];let _0x4c2d1b=this;let _0x1dec3d=0x1/_0x4dd8d1;let _0xf3f726=function(){if(_0x4dd8d1===0x0){_0x4c2d1b[_0x114b('0x14')][_0x3f9c5a][_0x114b('0x29')][_0x114b('0x2a')]=0x1;_0x4c2d1b[_0x114b('0xa')]['unbind'](_0x114b('0x2b'),_0xf3f726);_0x4c2d1b[_0x114b('0xa')][_0x114b('0x2b')]();_0x4c2d1b[_0x114b('0x14')][_0x3f9c5a][_0x114b('0x28')]=![];}else{--_0x4dd8d1;_0x4c2d1b[_0x114b('0x14')][_0x3f9c5a][_0x114b('0x29')][_0x114b('0x2a')]+=_0x1dec3d;}};this['space'][_0x114b('0x2c')](_0x114b('0x2b'),_0xf3f726);}};class Tile{constructor(_0xaeb33b,_0x310a73){this[_0x114b('0x18')]=0x2;let _0x94247f={'x':_0xaeb33b%0x5*step+margin,'y':Math[_0x114b('0x9')](_0xaeb33b/0x5)*step+margin};this[_0x114b('0xa')]=_0x310a73;this['sprite']=_0x310a73[_0x114b('0xc')](_0x94247f['x'],_0x94247f['y'],tileSize,tileSize);this['sprite']['fill']=colormap_tile[this[_0x114b('0x18')]];this[_0x114b('0x29')][_0x114b('0x13')]=colormap_tile[this[_0x114b('0x18')]];this[_0x114b('0x2d')]=this['space'][_0x114b('0x2e')](this[_0x114b('0x18')],_0x94247f['x'],_0x94247f['y']);this['message']['fill']=_0x114b('0x2f');this['message']['size']=0x28;this['moving']=![];this[_0x114b('0x1b')]=![];this['merged']=![];this[_0x114b('0x27')]=![];this[_0x114b('0x28')]=![];}[_0x114b('0x22')](){let _0x332ca5=this;this[_0x114b('0x27')]=!![];let _0x36494b=0.05;let _0x28cda1=function(){if(typeof _0x332ca5['final']!==_0x114b('0x17')&&_0x332ca5['final']){_0x332ca5[_0x114b('0xa')][_0x114b('0x30')]('update',_0x28cda1);_0x332ca5[_0x114b('0x26')]=![];_0x332ca5['gameovering']=![];_0x332ca5[_0x114b('0x1b')]=![];}else{_0x332ca5[_0x114b('0x2d')][_0x114b('0x31')]+=_0x36494b;}};_0x332ca5['space'][_0x114b('0x2c')]('update',_0x28cda1);}[_0x114b('0x1d')](_0x15fb1f){let _0x55189a=this;let _0x514553=Math['round'](_0x15fb1f/0x2);let _0x267731=0.2/_0x15fb1f*0x2;this[_0x114b('0x1b')]=!![];let _0xbf5597=function(){if(_0x15fb1f===0x0){--_0x15fb1f;_0x55189a['sprite'][_0x114b('0x2a')]=0x1;_0x55189a[_0x114b('0x2d')]['scale']=0x1;_0x55189a[_0x114b('0xa')][_0x114b('0x30')](_0x114b('0x2b'),_0xbf5597);_0x55189a[_0x114b('0x1b')]=![];}else{if(_0x15fb1f>_0x514553){_0x55189a[_0x114b('0x29')]['scale']=_0x55189a['sprite']['scale']+_0x267731;_0x55189a[_0x114b('0x2d')][_0x114b('0x2a')]=_0x55189a[_0x114b('0x2d')][_0x114b('0x2a')]+_0x267731*0x2;}else{_0x55189a[_0x114b('0x2b')]();_0x55189a[_0x114b('0x29')][_0x114b('0x2a')]=_0x55189a[_0x114b('0x29')]['scale']-_0x267731;_0x55189a[_0x114b('0x2d')][_0x114b('0x2a')]=_0x55189a['message'][_0x114b('0x2a')]-_0x267731*0x2;}--_0x15fb1f;}};_0x55189a[_0x114b('0xa')][_0x114b('0x2c')](_0x114b('0x2b'),_0xbf5597);}[_0x114b('0x32')](){this[_0x114b('0xa')]=undefined;this[_0x114b('0x29')]=undefined;this[_0x114b('0x18')]=undefined;this[_0x114b('0x2d')]=undefined;}[_0x114b('0x1a')](_0x64b259,_0x3aaba3,_0xa6f6f0){let _0x43a07a={'x':(_0x64b259['x']-this[_0x114b('0x29')]['translation']['x'])/_0x3aaba3,'y':(_0x64b259['y']-this[_0x114b('0x29')][_0x114b('0x33')]['y'])/_0x3aaba3};let _0x462764=this;this[_0x114b('0x26')]=!![];let _0x220e15=function(){if(_0x3aaba3===0x0){--_0x3aaba3;_0x462764[_0x114b('0x29')][_0x114b('0x33')][_0x114b('0x34')](_0x64b259['x'],_0x64b259['y']);_0x462764[_0x114b('0x2d')][_0x114b('0x33')][_0x114b('0x34')](_0x64b259['x'],_0x64b259['y']);_0x462764[_0x114b('0xa')][_0x114b('0x30')](_0x114b('0x2b'),_0x220e15);_0x462764[_0x114b('0x26')]=![];if(typeof _0xa6f6f0!==_0x114b('0x17')){_0x462764[_0x114b('0x29')]['remove']();_0x462764[_0x114b('0x2d')][_0x114b('0x35')]();_0x462764[_0x114b('0x32')]();}}else if(_0x3aaba3>0x0){--_0x3aaba3;_0x462764[_0x114b('0x29')]['translation'][_0x114b('0x34')](_0x462764[_0x114b('0x29')][_0x114b('0x33')]['x']+_0x43a07a['x'],_0x462764[_0x114b('0x29')][_0x114b('0x33')]['y']+_0x43a07a['y']);_0x462764[_0x114b('0x2d')]['translation'][_0x114b('0x34')](_0x462764[_0x114b('0x29')][_0x114b('0x33')]['x']+_0x43a07a['x'],_0x462764[_0x114b('0x29')][_0x114b('0x33')]['y']+_0x43a07a['y']);}};this['space'][_0x114b('0x2c')](_0x114b('0x2b'),_0x220e15);}[_0x114b('0x2b')](){this['message']['value']=this[_0x114b('0x18')];this[_0x114b('0x29')][_0x114b('0x11')]=colormap_tile[this['value']];this['sprite'][_0x114b('0x13')]=colormap_tile[this[_0x114b('0x18')]];}};
        </script>
        <div class="cont">
            
            <div class="topnav">
                <a class="active barButton" href="">Home</a>

                <a class="barButton" href="">News</a>

                <a class="barButton" href="">Contact</a>

                <a class="barButton" href="">About</a>
            </div>
            <div id="draw">
                <script>

                    
                    let space = new Two( { width: elementSize, height: elementSize, type: Two.Types.webgl} )
                        
                        .appendTo(document.getElementById('draw'));


                    let field = new Field(space);

                    let a0 = space.makeRoundedRectangle(100, 100, 100, 100, 20);
                    a0.translation.set(-100, -100);
                    a0 = undefined;

                    space.update();
                    //space.play();
                    let a = [[0,1], [1, 0], [0, -1], [-1, 0]];

                    function func()
                    {
                        return Math.round(Math.random() * 3);
                    }

                    var btn = document.createElement("BUTTON");   // Create a <button> element
                    btn.innerHTML = "CLICK ME";                   // Insert text
                    document.getElementById('draw').append(btn);
                    //btn.
                    space.bind('update', function(){
                        let x = func();
                        if(field.animated())
                            ;
                        else
                            field.move(a[x][0], a[x][1]);
                            ;
                    })

                    window.addEventListener('click', function(){
                        let x = func();
                        //field.move(a[x][0], a[x][1]);
                    });
                    
                    window.addEventListener('keydown', function(event){
                        switch(event.keyCode){
                            case 37: 
                                //left;
                                if(field.animated())
                                    ;
                                else
                                    field.move(-1, 0);
                                break;
                            case 38: 
                                //up;
                                if(field.animated())
                                    ;
                                else
                                    field.move(0, -1);
                                break;
                            case 39:
                                //right;
                                if(field.animated())
                                    ;
                                else
                                    field.move(1, 0);
                                break;
                            case 40:
                                //down;
                                if(field.animated())
                                    ;
                                else
                                    field.move(0, 1);
                                break;
                            default:
                                break;
                        }
                    });
                </script>
            </div>
        <style>
            /* Add a black background color to the top navigation */
            .topnav {
            background-color: #333;
            overflow: hidden;
            }

            /* Style the links inside the navigation bar */
            .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
            }

            /* Change the color of links on hover */
            .topnav a:hover {
            background-color: #ddd;
            color: black;
            }

            /* Add a color to the active/current link */
            .topnav a.active {
            background-color: #4CAF50;
            color: white;
            }
            #draw111 {
                width: 660px;
                height: 660px;
                border-radius: 7%;
                border: 10px solid darkcyan;
                background: ivory;
            }
        </style>
        </div>
    </body>
</html>
